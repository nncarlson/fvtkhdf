
@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# Always require HDF5
find_dependency(HDF5 COMPONENTS C HL)

# Capture build state
set(fVTKHDF_MPI_SUPPORT @ENABLE_MPI@)

# If built with MPI, require MPI
if(fVTKHDF_MPI_SUPPORT)
    find_dependency(MPI COMPONENTS C Fortran)
endif()

# Safety check: Prevent linking Serial lib if MPI component requested
if(MPI IN_LIST fVTKHDF_FIND_COMPONENTS AND NOT fVTKHDF_MPI_SUPPORT)
    set(fVTKHDF_FOUND FALSE)
    set(fVTKHDF_NOT_FOUND_MESSAGE "Requested MPI component, but fVTKHDF was built without MPI.")
endif()

include("${CMAKE_CURRENT_LIST_DIR}/fVTKHDFTargets.cmake")
check_required_components(fVTKHDF)
